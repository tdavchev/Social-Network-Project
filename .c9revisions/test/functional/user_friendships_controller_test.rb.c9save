{"ts":1366686773545,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"require 'test_helper'\n\nclass UserFriendshipsControllerTest < ActionController::TestCase\n  # test \"the truth\" do\n  #   assert true\n  # end\nend\n"]],"start1":0,"start2":0,"length1":0,"length2":142}]],"length":142}
{"contributors":[],"silentsave":false,"ts":1366687101911,"patch":[[{"diffs":[[0,"e\n  "],[-1,"#"],[0," "],[1," context \"#new\" do\n        con"],[0,"te"],[-1,"st \"the truth\" do\n  #   assert true\n  #"],[1,"xt \"when not logged in\" do\n            should \"redirect to the login page\" do\n                get :new\n                assert_response :redirect\n            end\n        end\n   "],[0," end"]],"start1":86,"start2":86,"length1":51,"length2":217}]],"length":308,"saved":false}
{"ts":1366687708220,"patch":[[{"diffs":[[0,"        end\n"],[1,"        \n        context \"when logged in\" do\n            setup do\n                sign_in users(:jason)\n            end\n        end\n"],[0,"    end\nend\n"]],"start1":284,"start2":284,"length1":24,"length2":156}]],"length":440,"saved":false}
{"ts":1366687732826,"patch":[[{"diffs":[[0,"            end\n"],[1,"            \n            should \"get new and return success\" do\n                get :new\n                assert_response :sucess\n            end\n"],[0,"        end\n    "]],"start1":400,"start2":400,"length1":32,"length2":177}]],"length":585,"saved":false}
{"ts":1366687735007,"patch":[[{"diffs":[[0,"nse :suc"],[1,"c"],[0,"ess\n    "]],"start1":533,"start2":533,"length1":16,"length2":17}]],"length":586,"saved":false}
{"ts":1366687837213,"patch":[[{"diffs":[[0,"            end\n"],[1,"            \n            should \"set a flash error if the friend_id params is missing\" do\n                get :new, {}\n                assert_equal \"Friend required\", flash[:error]\n            end\n"],[0,"        end\n    "]],"start1":546,"start2":546,"length1":32,"length2":229}]],"length":783,"saved":false}
{"ts":1366688021522,"patch":[[{"diffs":[[0,"            end\n"],[1,"            \n            should \"display the friend's name\" do\n                get :new, friend_id: users(:jim).id\n                assert_match /#{users(:jim).fullname}/, response.body\n            end\n"],[0,"        end\n    "]],"start1":743,"start2":743,"length1":32,"length2":233}]],"length":984,"saved":false}
{"ts":1366688513586,"patch":[[{"diffs":[[0,"            end\n"],[1,"            \n            should \"assign a new user friendship\" do\n                get :new, friend_id: users(:jim).id\n                assert assigns(:user_friendhsip)\n            end\n"],[0,"        end\n    "]],"start1":944,"start2":944,"length1":32,"length2":215}]],"length":1167,"saved":false}
{"ts":1366688671339,"patch":[[{"diffs":[[0,"im).full"],[1,"_"],[0,"name}/, "]],"start1":914,"start2":914,"length1":16,"length2":17}]],"length":1168,"saved":false}
{"ts":1366689432620,"patch":[[{"diffs":[[0,"  assert"],[1,"_equal users(:jim),"],[0," assigns"]],"start1":1093,"start2":1093,"length1":16,"length2":35},{"diffs":[[0,"endhsip)"],[1,".friend"],[0,"\n       "]],"start1":1138,"start2":1138,"length1":16,"length2":23}]],"length":1194,"saved":false}
{"ts":1366689460321,"patch":[[{"diffs":[[0,"iendship"],[1," to the correct friend"],[0,"\" do\n   "]],"start1":1014,"start2":1014,"length1":16,"length2":38}]],"length":1216,"saved":false}
{"ts":1366689720182,"patch":[[{"diffs":[[0,"            end\n"],[1,"            \n        should \"assign a new user friendship to the currently logged in user\" do\n                get :new, friend_id: users(:jim).id\n                assert_equal users(:jim), assigns(:user_friendhsip).friend\n            end\n"],[0,"        end\n    "]],"start1":1176,"start2":1176,"length1":32,"length2":269}]],"length":1453,"saved":false}
{"ts":1366689751216,"patch":[[{"diffs":[[0,"ser_friendhsip)."],[-1,"friend"],[1,"user"],[0,"\n            end"]],"start1":1390,"start2":1390,"length1":38,"length2":36}]],"length":1451,"saved":false}
{"ts":1366689888134,"patch":[[{"diffs":[[0,"       \n        "],[1,"    "],[0,"should \"assign a"]],"start1":1197,"start2":1197,"length1":32,"length2":36},{"diffs":[[0,"            end\n"],[1,"            \n            should \"returns a 404 status if no friend is found\" do\n                get :new, friend_id: 'invalid'\n                assert_response :not_found\n            end\n"],[0,"        end\n    "]],"start1":1415,"start2":1415,"length1":32,"length2":218}]],"length":1641,"saved":false}
{"ts":1366689945908,"patch":[[{"diffs":[[0,":user_friend"],[-1,"h"],[0,"s"],[1,"h"],[0,"ip).user\n   "]],"start1":1392,"start2":1392,"length1":26,"length2":26}]],"length":1641,"saved":false}
{"ts":1366690011667,"patch":[[{"diffs":[[0," \"return"],[-1,"s"],[0," a 404 s"]],"start1":1462,"start2":1462,"length1":17,"length2":16}]],"length":1640,"saved":false}
{"ts":1366690091413,"patch":[[{"diffs":[[0,"end\n"],[-1,"            \n            should \"return a 404 status if no friend is found\" do\n                get :new, friend_id: 'invalid'\n                assert_response :not_found\n            end"],[0,"\n   "]],"start1":1427,"start2":1427,"length1":192,"length2":8}]],"length":1456,"saved":false}
{"ts":1366690132713,"patch":[[{"diffs":[[0,"iend"],[-1,"h"],[0,"s"],[1,"h"],[0,"ip)."]],"start1":1159,"start2":1159,"length1":10,"length2":10}]],"length":1456,"saved":false}
{"ts":1366690194220,"patch":[[{"diffs":[[0,"     end"],[1,"\n            \n            should \"return a 404 if no friend was found\" do \n                get :new, friend_id: 'invalid'\n                assert_response :not_found\n            end"],[0,"\n\n      "]],"start1":1422,"start2":1422,"length1":16,"length2":196}]],"length":1636,"saved":false}
{"ts":1366690756117,"patch":[[{"diffs":[[0,"t_equal users(:j"],[-1,"im"],[1,"ason"],[0,"), assigns(:user"]],"start1":1363,"start2":1363,"length1":34,"length2":36}]],"length":1638,"saved":false}
{"ts":1366691527261,"patch":[[{"diffs":[[0,"     end"],[1,"\n            \n            should \"ask if you really want to friend the user\" do \n                get :new, freind_id: users(:jim)\n                assert_match /Do you really want to friend #{users(:jim).full_name}?/, response.body\n            end"],[0,"\n\n      "]],"start1":1604,"start2":1604,"length1":16,"length2":262}]],"length":1884,"saved":false}
{"contributors":[],"silentsave":false,"ts":1366693941750,"patch":[[{"diffs":[[0,"_id: users(:jim)"],[-1,".id"],[0,"\n               "]],"start1":854,"start2":854,"length1":35,"length2":32}]],"length":1881,"saved":false}
{"ts":1366693951580,"patch":[[{"diffs":[[0,"_id: users(:jim)"],[-1,".id"],[0,"\n               "]],"start1":1078,"start2":1078,"length1":35,"length2":32},{"diffs":[[0,"jim)"],[-1,".id"],[0,"\n   "]],"start1":1328,"start2":1328,"length1":11,"length2":8}]],"length":1875,"saved":false}
{"ts":1366733811438,"patch":[[{"diffs":[[0," end"],[-1,"\n            \n            should \"ask if you really want to friend the user\" do \n                get :new, freind_id: users(:jim)\n                assert_match /Do you really want to friend #{users(:jim).full_name}?/, response.body\n            end"],[0,"\n\n  "]],"start1":1599,"start2":1599,"length1":254,"length2":8}]],"length":1629,"saved":false}
{"ts":1366733945899,"patch":[[{"diffs":[[0,"     end"],[1,"\n            \n            should \"ask if you really want to friend the user\" do \n                get :new, freind_id: users(:jim)\n                assert_match /Do you really want to friend #{users(:jim).full_name}?/, response.body\n            end"],[0,"\n\n      "]],"start1":1595,"start2":1595,"length1":16,"length2":262}]],"length":1875,"saved":false}
{"ts":1366734091904,"patch":[[{"diffs":[[0," end"],[-1,"\n            \n            should \"ask if you really want to friend the user\" do \n                get :new, freind_id: users(:jim)\n                assert_match /Do you really want to friend #{users(:jim).full_name}?/, response.body\n            end"],[0,"\n\n  "]],"start1":1599,"start2":1599,"length1":254,"length2":8}]],"length":1629,"saved":false}
{"ts":1366734131226,"patch":[[{"diffs":[[0,"     end"],[1,"\n            \n            #should \"ask if you really want to friend the user\" do \n             #   get :new, freind_id: users(:jim)\n              #  assert_match /Do you really want to friend #{users(:jim).full_name}?/, response.body\n            #end"],[0,"\n\n      "]],"start1":1595,"start2":1595,"length1":16,"length2":266}]],"length":1879,"saved":false}
{"contributors":[],"silentsave":false,"ts":1366742177776,"patch":[[{"diffs":[[0,"    end\nend\n"],[1,"\n    context \"#create\" do\n        context \"when not logged in\" do\n            should \"redirect to the login page\" do\n                get :new\n                assert_response :redirect\n                assert_redirected_to login_path\n            end\n    end\n"]],"start1":1867,"start2":1867,"length1":12,"length2":268}]],"length":2135,"saved":false}
{"ts":1366742242035,"patch":[[{"diffs":[[0,"    end\n"],[-1,"end\n\n    "],[0,"context "]],"start1":1867,"start2":1867,"length1":25,"length2":16},{"diffs":[[0,"ath\n            end\n    end\n"],[1,"end\n\n"]],"start1":2098,"start2":2098,"length1":28,"length2":33}]],"length":2131,"saved":false}
{"ts":1366742245733,"patch":[[{"diffs":[[0,"    end\n"],[1,"    "],[0,"context "]],"start1":1867,"start2":1867,"length1":16,"length2":20}]],"length":2135,"saved":false}
{"ts":1366742276536,"patch":[[{"diffs":[[0,"            end\n"],[1,"        end\n"],[0,"    end\nend\n\n"]],"start1":2106,"start2":2106,"length1":29,"length2":41}]],"length":2147,"saved":false}
{"ts":1366742820329,"patch":[[{"diffs":[[0,"end\n        end\n"],[1,"        \n        context \"when logged in\" do\n            setup do\n                sign_in users(:jason)\n            end\n        end\n        \n        context \"with no freind_id\" do\n            setup do\n                post :create\n            end\n            should \"set the flash error message\" do\n                assert !flas[:error].empty?\n            end\n        end\n"],[0,"    end\nend\n\n"]],"start1":2118,"start2":2118,"length1":29,"length2":399}]],"length":2517,"saved":false}
{"ts":1366743117211,"patch":[[{"diffs":[[0,"            end\n"],[1,"            should \"redirect to the site root\" do\n                assert_redirected_to root_path\n            end\n"],[0,"        end\n    "]],"start1":2476,"start2":2476,"length1":32,"length2":145}]],"length":2630,"saved":false}
{"ts":1366743172847,"patch":[[{"diffs":[[0,"rt !flas"],[1,"h"],[0,"[:error]"]],"start1":2452,"start2":2452,"length1":16,"length2":17}]],"length":2631,"saved":false}
{"ts":1366744139450,"patch":[[{"diffs":[[0,"end\n        end\n"],[1,"        context \"with a valid friend_id\" do\n            setup do\n                post :create, friend_id: users(:mike)\n            end\n            \n            should \"assign a friend object\" do\n                assert assigns(:friend)\n            end\n        end\n"],[0,"    end\nend\n\n"]],"start1":2602,"start2":2602,"length1":29,"length2":292}]],"length":2894,"saved":false}
{"contributors":[],"silentsave":false,"ts":1366752310696,"patch":[[{"diffs":[[0,"_helper'"],[-1,"\n"],[1,"\r\n\r"],[0,"\nclass U"]],"start1":13,"start2":13,"length1":17,"length2":19},{"diffs":[[0,"TestCase"],[1,"\r"],[0,"\n"],[-1,"  "],[0,"  contex"]],"start1":81,"start2":81,"length1":19,"length2":18},{"diffs":[[0,"xt \"#new\" do"],[1,"\r"],[0,"\n"],[-1,"    "],[0,"    context "]],"start1":98,"start2":98,"length1":29,"length2":26},{"diffs":[[0,"ogged in\" do"],[1,"\r"],[0,"\n"],[-1," "],[0,"      "],[-1,"     "],[0,"should \"redi"]],"start1":135,"start2":135,"length1":37,"length2":32},{"diffs":[[0,"\" do"],[1,"\r"],[0,"\n"],[-1,"      "],[0,"        "],[-1,"  "],[0,"get :new"],[1,"\r"],[0,"\n"],[-1,"        "],[0,"    "]],"start1":189,"start2":189,"length1":42,"length2":28},{"diffs":[[0,"sponse :redirect"],[1,"\r"],[0,"\n            end"]],"start1":230,"start2":230,"length1":32,"length2":33},{"diffs":[[0,"ct\r\n        "],[-1,"    end\n  "],[1,"assert_redirected_to login_path\r\n"],[0,"      end\n  "]],"start1":244,"start2":244,"length1":34,"length2":57},{"diffs":[[0,"h\r\n      end"],[1,"\r"],[0,"\n    "],[-1,"    \n    "],[1,"end\r\n\r\n"],[0,"    context "]],"start1":286,"start2":286,"length1":38,"length2":37},{"diffs":[[0,"en logged in\" do"],[1,"\r"],[0,"\n"],[-1,"      "],[0,"      setup do\n "]],"start1":326,"start2":326,"length1":39,"length2":34},{"diffs":[[0,"    setup do"],[1,"\r"],[0,"\n"],[-1,"        "],[0,"        sign"]],"start1":346,"start2":346,"length1":33,"length2":26},{"diffs":[[0,"son)"],[1,"\r"],[0,"\n"],[-1,"   "],[0,"      "],[-1,"   end\n            \n      "],[1,"end\r\n\r\n"],[0,"    "]],"start1":385,"start2":385,"length1":44,"length2":23},{"diffs":[[0,"new "],[-1,"and return success"],[1,"without error"],[0,"\" do"],[1,"\r"],[0,"\n"],[-1," "],[0,"        "],[-1,"       "],[0,"get :new"],[1,"\r"],[0,"\n"],[-1,"    "],[0,"        "],[-1,"    "],[0,"asse"]],"start1":422,"start2":422,"length1":72,"length2":53},{"diffs":[[0,":success"],[1,"\r"],[0,"\n"],[-1,"      "],[0,"      en"]],"start1":487,"start2":487,"length1":23,"length2":18},{"diffs":[[0,"     end"],[-1,"\n            \n      "],[1,"\r\n\r\n"],[0,"      sh"]],"start1":498,"start2":498,"length1":36,"length2":20},{"diffs":[[0,"    should \""],[1,"should "],[0,"set a flash "]],"start1":512,"start2":512,"length1":24,"length2":31},{"diffs":[[0,"id param"],[-1,"s"],[0," is miss"]],"start1":563,"start2":563,"length1":17,"length2":16},{"diffs":[[0,"sing\" do"],[1,"\r"],[0,"\n"],[-1,"       "],[0,"        "],[-1," "],[0,"get :new"]],"start1":578,"start2":578,"length1":33,"length2":26},{"diffs":[[0,":new, {}"],[1,"\r"],[0,"\n"],[-1,"        "],[0,"        "]],"start1":600,"start2":600,"length1":25,"length2":18},{"diffs":[[0,"ror]"],[1,"\r"],[0,"\n      "],[-1,"      end\n            \n      "],[1,"end\r\n\r\n      should \"display a 404 page if no friend is found\" do\r\n        get :new, friend_id: 'invalid'\r\n        assert_response :not_found\r\n      end\r\n\r\n"],[0,"    "]],"start1":659,"start2":659,"length1":44,"length2":172},{"diffs":[[0,"name\" do"],[1,"\r"],[0,"\n"],[-1,"    "],[0,"        "],[-1,"    "],[0,"get :new"]],"start1":862,"start2":862,"length1":33,"length2":26},{"diffs":[[0," users(:jim)"],[-1,"\n        "],[1,".id\r\n"],[0,"        asse"]],"start1":900,"start2":900,"length1":33,"length2":29},{"diffs":[[0,"esponse.body"],[1,"\r"],[0,"\n"],[-1,"      "],[0,"      end\n  "]],"start1":967,"start2":967,"length1":31,"length2":26},{"diffs":[[0,"     end"],[-1,"\n            \n      "],[1,"\r\n\r\n"],[0,"      sh"]],"start1":982,"start2":982,"length1":36,"length2":20},{"diffs":[[0,"hould \"assign a "],[-1,"new "],[0,"user friendship "]],"start1":1001,"start2":1001,"length1":36,"length2":32},{"diffs":[[0,"ship"],[-1," to the correct friend"],[0,"\" do"],[1,"\r"],[0,"\n"],[-1," "],[0,"        "],[-1,"       "],[0,"get "]],"start1":1028,"start2":1028,"length1":51,"length2":22},{"diffs":[[0,"jim)"],[1,".id\r"],[0,"\n"],[-1," "],[0,"        "],[-1,"       assert_equal users(:jim), assigns(:user_friendship).friend\n            end\n            \n      "],[1,"assert assigns(:user_friendship)\r\n      end\r\n\r\n"],[0,"    "]],"start1":1074,"start2":1074,"length1":119,"length2":68},{"diffs":[[0,"ssign a "],[-1,"new "],[0,"user fri"]],"start1":1153,"start2":1153,"length1":20,"length2":16},{"diffs":[[0,"hip "],[-1,"to"],[1,"with"],[0," the "],[-1,"currently logged in user\" do\n        "],[1,"user as current user\" do\r\n"],[0,"    "]],"start1":1173,"start2":1173,"length1":52,"length2":43},{"diffs":[[0,"rs(:jim)"],[-1,"\n       "],[1,".id\r\n"],[0,"        "],[-1," "],[0,"assert_e"]],"start1":1244,"start2":1244,"length1":33,"length2":29},{"diffs":[[0,"qual"],[-1," users(:jason),"],[0," ass"]],"start1":1273,"start2":1273,"length1":23,"length2":8},{"diffs":[[0,"user"],[-1,"\n            end\n            \n            should \"return a 404 if no friend was found\" do \n                get :new, friend_id: 'invalid'\n                assert_response :not_found\n            end\n            \n            #should \"ask if you really want to friend the user\" do \n     "],[1,", users(:jason)\r\n      end\r\n\r\n      should \"assign a user friendship with the correct friend\" do\r\n"],[0,"     "],[-1,"   #"],[0,"   g"]],"start1":1304,"start2":1304,"length1":300,"length2":111},{"diffs":[[0,":new, fr"],[-1,"e"],[0,"i"],[1,"e"],[0,"nd_id: u"]],"start1":1418,"start2":1418,"length1":18,"length2":18},{"diffs":[[0,"rs(:jim)"],[1,".id\r"],[0,"\n       "]],"start1":1438,"start2":1438,"length1":16,"length2":20},{"diffs":[[0,"    "],[-1,"      #  assert_match /Do you really want to "],[1,"assert_equal assigns(:user_friendship)."],[0,"friend"],[1,","],[0," "],[-1,"#{"],[0,"user"]],"start1":1455,"start2":1455,"length1":62,"length2":55},{"diffs":[[0,"jim)"],[-1,".full_name}?/, response.body\n            #end\n\n    "],[1,"\r\n      end\r\n"],[0,"    end"],[1,"\r"],[0,"\n"],[-1,"  "],[0,"  end"],[1,"\r"],[0,"\n  "],[1,"\r\n"],[0,"  co"]],"start1":1513,"start2":1513,"length1":77,"length2":41},{"diffs":[[0,"\"#create\" do"],[1,"\r"],[0,"\n"],[-1,"    "],[0,"    context "]],"start1":1560,"start2":1560,"length1":29,"length2":26},{"diffs":[[0,"d in\" do"],[1,"\r"],[0,"\n"],[-1," "],[0,"      "],[-1,"     "],[0,"should \""]],"start1":1601,"start2":1601,"length1":29,"length2":24},{"diffs":[[0,"\" do"],[1,"\r"],[0,"\n"],[-1,"     "],[0,"        "],[-1,"   "],[0,"get :new"],[1,"\r"],[0,"\n"],[-1,"        "],[0,"    "]],"start1":1651,"start2":1651,"length1":42,"length2":28},{"diffs":[[0,"redirect"],[1,"\r"],[0,"\n"],[-1,"        "],[0,"        "]],"start1":1700,"start2":1700,"length1":25,"length2":18},{"diffs":[[0,"path"],[1,"\r"],[0,"\n"],[-1,"  "],[0,"      "],[-1,"    "],[0,"end"],[1,"\r"],[0,"\n"],[-1," "],[0,"    "],[-1,"   end\n        \n    "],[1,"end\r\n\r\n"],[0,"    "]],"start1":1745,"start2":1745,"length1":50,"length2":32},{"diffs":[[0,"ogged in\" do"],[1,"\r"],[0,"\n"],[-1,"      "],[0,"      setup "]],"start1":1792,"start2":1792,"length1":31,"length2":26},{"diffs":[[0,"setup do"],[1,"\r"],[0,"\n"],[-1,"     "],[0,"        "],[-1,"   "],[0,"sign_in "]],"start1":1812,"start2":1812,"length1":33,"length2":26},{"diffs":[[0,"(:jason)"],[1,"\r"],[0,"\n"],[-1,"      "],[0,"      en"]],"start1":1843,"start2":1843,"length1":23,"length2":18},{"diffs":[[0," end"],[-1,"\n        end\n        \n  "],[1,"\r\n\r\n"],[0,"    "]],"start1":1858,"start2":1858,"length1":32,"length2":12},{"diffs":[[0,"o fr"],[-1,"e"],[0,"i"],[1,"e"],[0,"nd_i"]],"start1":1887,"start2":1887,"length1":10,"length2":10},{"diffs":[[0,"no friend_id\" do"],[1,"\r"],[0,"\n"],[-1,"    "],[0,"        setup do"]],"start1":1886,"start2":1886,"length1":37,"length2":34},{"diffs":[[0,"        setup do"],[1,"\r"],[0,"\n"],[-1,"     "],[0,"           post "]],"start1":1904,"start2":1904,"length1":38,"length2":34},{"diffs":[[0,"p do\r\n          "],[-1," "],[0,"post :create\n   "]],"start1":1916,"start2":1916,"length1":33,"length2":32},{"diffs":[[0," :create"],[1,"\r"],[0,"\n"],[-1,"    "],[0,"        "]],"start1":1936,"start2":1936,"length1":21,"length2":18},{"diffs":[[0,"ate\r\n        end"],[-1,"\n    "],[1,"\r\n\r\n"],[0,"        should \""]],"start1":1941,"start2":1941,"length1":37,"length2":36},{"diffs":[[0," message\" do"],[1,"\r"],[0,"\n"],[-1,"    "],[0,"            "]],"start1":1996,"start2":1996,"length1":29,"length2":26},{"diffs":[[0,"\r\n          "],[-1,"  "],[0,"assert !flas"]],"start1":2008,"start2":2008,"length1":26,"length2":24},{"diffs":[[0,"].empty?"],[1,"\r"],[0,"\n"],[-1,"   "],[0,"        "],[-1," "],[0,"end"],[-1,"\n    "],[1,"\r\n\r\n"],[0,"        "]],"start1":2040,"start2":2040,"length1":37,"length2":33},{"diffs":[[0,"        should \""],[1,"set "],[0,"redirect to the "]],"start1":2065,"start2":2065,"length1":32,"length2":36},{"diffs":[[0," to "],[-1,"the site "],[0,"root\" do"],[1,"\r"],[0,"\n"],[-1,"  "],[0,"    "]],"start1":2093,"start2":2093,"length1":28,"length2":18},{"diffs":[[0,"\r\n          "],[-1,"    "],[0,"assert_redir"]],"start1":2105,"start2":2105,"length1":28,"length2":24},{"diffs":[[0,"oot_path"],[1,"\r"],[0,"\n"],[-1,"    "],[0,"        "]],"start1":2139,"start2":2139,"length1":21,"length2":18},{"diffs":[[0,"ath\r\n        end"],[1,"\r"],[0,"\n"],[-1,"  "],[0,"      end\n      "]],"start1":2144,"start2":2144,"length1":35,"length2":34},{"diffs":[[0,"d\r\n      end"],[-1,"\n  "],[1,"\r\n\r\n"],[0,"      contex"]],"start1":2159,"start2":2159,"length1":27,"length2":28},{"diffs":[[0,"riend_id\" do"],[1,"\r"],[0,"\n"],[-1,"    "],[0,"        setu"]],"start1":2204,"start2":2204,"length1":29,"length2":26},{"diffs":[[0,"setup do"],[1,"\r"],[0,"\n"],[-1," "],[0,"        "]],"start1":2226,"start2":2226,"length1":18,"length2":18},{"diffs":[[0,"\r\n          "],[-1,"     "],[0,"post :create"]],"start1":2234,"start2":2234,"length1":29,"length2":24},{"diffs":[[0,"s(:mike)"],[1,".id\r"],[0,"\n       "]],"start1":2275,"start2":2275,"length1":16,"length2":20},{"diffs":[[0,"    "],[-1,"    end\n            \n    "],[1,"end\r\n\r\n        should \"assign a friend object\" do\r\n          assert_equal users(:mike), assigns(:friend)\r\n        end\r\n\r\n"],[0,"    "]],"start1":2292,"start2":2292,"length1":33,"length2":129},{"diffs":[[0,"hould \"assign a "],[1,"user_"],[0,"friend"],[1,"ship"],[0," object\" do\n    "]],"start1":2426,"start2":2426,"length1":38,"length2":47},{"diffs":[[0,"ject\" do"],[1,"\r"],[0,"\n       "]],"start1":2460,"start2":2460,"length1":16,"length2":17},{"diffs":[[0,"        "],[-1,"      "],[0,"assert"],[1," assigns(:user_friendship)\r\n          assert_equal users(:jason),"],[0," assigns"]],"start1":2472,"start2":2472,"length1":28,"length2":87},{"diffs":[[0,"ns(:"],[1,"user_"],[0,"friend"],[-1,")\n            end\n        end\n    end\nend\n"],[1,"ship).user\r\n          assert_equal users(:mike), assigns(:user_friendship).friend\r\n        end\r\n\r\n        should \"create a user friendship\" do\r\n          assert users(:jason).friends.include?(users(:mike))\r\n        end\r\n      end\r\n\r\n\r\n    end\r\n  end\r\nend\r"],[0,"\n"]],"start1":2557,"start2":2557,"length1":53,"length2":271}]],"length":2828,"saved":false}
{"ts":1366752348024,"patch":[[{"diffs":[[0,"stCase\r\n"],[1,"  "],[0,"  contex"]],"start1":83,"start2":83,"length1":16,"length2":18},{"diffs":[[0," \"#new\" do\r\n"],[1,"    "],[0,"    context "]],"start1":102,"start2":102,"length1":24,"length2":28},{"diffs":[[0,"d in\" do\r\n      "],[1,"     "],[1," "],[0,"should \"redirect"]],"start1":145,"start2":145,"length1":32,"length2":38},{"diffs":[[0,"login page\" do\r\n"],[1,"        "],[0,"        get :new"]],"start1":191,"start2":191,"length1":32,"length2":40},{"diffs":[[0,"t :new\r\n        "],[1,"  "],[1,"      "],[0,"assert_response "]],"start1":225,"start2":225,"length1":32,"length2":40},{"diffs":[[0,"    "],[-1,"assert_redirected_to login_path\r\n"],[1,"    end\r\n  "],[0,"    "]],"start1":280,"start2":280,"length1":41,"length2":19},{"diffs":[[0,"       end\r\n    "],[-1,"end\r\n\r\n"],[1,"    \r\n    "],[0,"    context \"whe"]],"start1":294,"start2":294,"length1":39,"length2":42},{"diffs":[[0," logged in\" do\r\n"],[1,"      "],[0,"      setup do\r\n"]],"start1":337,"start2":337,"length1":32,"length2":38},{"diffs":[[0,"tup do\r\n        "],[1,"     "],[1,"   "],[0,"sign_in users(:j"]],"start1":367,"start2":367,"length1":32,"length2":40},{"diffs":[[0,"son)\r\n      "],[-1,"end\r\n"],[1,"      end\r\n            "],[0,"\r\n      "],[1," "],[1,"     "],[0,"should \"get "]],"start1":408,"start2":408,"length1":37,"length2":61},{"diffs":[[0,"new "],[-1,"without error"],[1,"and return success"],[0,"\" do"]],"start1":469,"start2":469,"length1":21,"length2":26},{"diffs":[[0,"ss\" do\r\n        "],[1,"     "],[1,"   "],[0,"get :new\r\n      "]],"start1":489,"start2":489,"length1":32,"length2":40},{"diffs":[[0,"      get :new\r\n"],[1,"        "],[0,"        assert_r"]],"start1":507,"start2":507,"length1":32,"length2":40},{"diffs":[[0,"    "],[-1,"end\r\n\r\n"],[1,"      end\r\n            \r\n   "],[0,"      "],[1,"   "],[0,"should \""],[-1,"should "],[0,"set "]],"start1":567,"start2":567,"length1":36,"length2":53},{"diffs":[[0,"id param"],[1,"s"],[0," is miss"]],"start1":648,"start2":648,"length1":16,"length2":17},{"diffs":[[0,"issing\" do\r\n"],[1,"        "],[0,"        get "]],"start1":662,"start2":662,"length1":24,"length2":32},{"diffs":[[0,"ew, {}\r\n        "],[1,"   "],[1,"     "],[0,"assert_equal \"Fr"]],"start1":696,"start2":696,"length1":32,"length2":40},{"diffs":[[0,"    "],[-1,"end\r\n\r\n      should \"display a 404 page if no friend is found\" do\r\n        get :new, friend_id: 'invalid'\r\n        assert_response :not_found"],[1,"      end\r\n            "],[0,"\r\n      "],[-1,"end\r\n\r\n"],[0,"    "]],"start1":769,"start2":769,"length1":164,"length2":39},{"diffs":[[0,"me\" do\r\n        "],[1," "],[1,"       "],[0,"get :new, friend"]],"start1":841,"start2":841,"length1":32,"length2":40},{"diffs":[[0,"_id: users(:jim)"],[-1,".id\r\n"],[1,"\r\n        "],[0,"        assert_m"]],"start1":881,"start2":881,"length1":37,"length2":42},{"diffs":[[0,"nse.body\r\n      "],[1,"   "],[1,"   "],[0,"end\r\n"],[-1,"\r\n"],[1,"            \r\n      "],[0,"      should \"as"]],"start1":961,"start2":961,"length1":39,"length2":63},{"diffs":[[0,"hould \"assign a "],[1,"new "],[0,"user friendship\""]],"start1":1015,"start2":1015,"length1":32,"length2":36},{"diffs":[[0," user friendship"],[-1,"\" do\r\n"],[1," to the correct friend\" do\r\n        "],[0,"        get :new"]],"start1":1034,"start2":1034,"length1":38,"length2":68},{"diffs":[[0,"_id: users(:jim)"],[-1,".id\r\n"],[1,"\r\n        "],[0,"        assert a"]],"start1":1110,"start2":1110,"length1":37,"length2":42},{"diffs":[[0,"          assert"],[1,"_equal users(:jim),"],[0," assigns(:user_f"]],"start1":1134,"start2":1134,"length1":32,"length2":51},{"diffs":[[0,"endship)"],[1,".friend\r\n            end\r\n            "],[0,"\r\n      "],[-1,"end\r\n\r\n"],[0,"      sh"]],"start1":1187,"start2":1187,"length1":31,"length2":62},{"diffs":[[0,"hould \"assign a "],[1,"new "],[0,"user friendship "]],"start1":1248,"start2":1248,"length1":32,"length2":36},{"diffs":[[0,"hip "],[-1,"with"],[1,"to"],[0," the "],[-1,"user as current"],[1,"currently logged in"],[0," use"]],"start1":1280,"start2":1280,"length1":32,"length2":34},{"diffs":[[0,"n user\" do\r\n"],[1,"        "],[0,"        get "]],"start1":1309,"start2":1309,"length1":24,"length2":32},{"diffs":[[0,"_id: users(:jim)"],[-1,".id\r\n"],[1,"\r\n        "],[0,"        assert_e"]],"start1":1353,"start2":1353,"length1":37,"length2":42},{"diffs":[[0,"    assert_equal"],[1," users(:jason),"],[0," assigns(:user_f"]],"start1":1383,"start2":1383,"length1":32,"length2":47},{"diffs":[[0,"user"],[-1,", users(:jason)\r\n"],[1,"\r\n   "],[0,"      "],[1,"   "],[0,"end\r\n"],[-1,"\r\n      should \"assign a user friendship with the correct friend"],[1,"            \r\n            should \"return a 404 if no friend was found\" do \r\n                get :new, friend_id: 'invalid'\r\n                assert_response :not_found\r\n            end\r\n            \r\n            #should \"ask if you really want to friend the user"],[0,"\" do"],[1," "],[0,"\r\n     "],[1,"        #"],[0,"   g"]],"start1":1441,"start2":1441,"length1":111,"length2":309},{"diffs":[[0,"#   get :new, fr"],[-1,"i"],[0,"e"],[1,"i"],[0,"nd_id: users(:ji"]],"start1":1745,"start2":1745,"length1":34,"length2":34},{"diffs":[[0,"rs(:jim)"],[-1,".id"],[0,"\r\n      "]],"start1":1773,"start2":1773,"length1":19,"length2":16},{"diffs":[[0,"    "],[-1,"assert_equal assigns(:user_friendship).friend, users(:jim)\r\n"],[1,"      #  assert_match /Do you really want to friend #{users(:jim).full_name}?/, response.body\r\n     "],[0,"      "],[1," #"],[0,"end\r\n"],[1,"\r\n  "],[0,"    "],[1,"  "],[0,"end\r\n"],[1,"  "],[0,"  en"]],"start1":1787,"start2":1787,"length1":88,"length2":138},{"diffs":[[0," end\r\n  "],[-1,"\r\n"],[0,"  contex"]],"start1":1922,"start2":1922,"length1":18,"length2":16},{"diffs":[[0,"create\" do\r\n"],[1,"    "],[0,"    context "]],"start1":1942,"start2":1942,"length1":24,"length2":28},{"diffs":[[0,"ged in\" do\r\n"],[1,"      "],[0,"      should"]],"start1":1983,"start2":1983,"length1":24,"length2":30},{"diffs":[[0,"login page\" do\r\n"],[1,"        "],[0,"        get :new"]],"start1":2031,"start2":2031,"length1":32,"length2":40},{"diffs":[[0,"t :new\r\n        "],[1,"   "],[1,"     "],[0,"assert_response "]],"start1":2065,"start2":2065,"length1":32,"length2":40},{"diffs":[[0,"direct\r\n        "],[1,"      "],[1,"  "],[0,"assert_redirecte"]],"start1":2108,"start2":2108,"length1":32,"length2":40},{"diffs":[[0,"login_path\r\n"],[1,"      "],[0,"      end\r\n "]],"start1":2153,"start2":2153,"length1":24,"length2":30},{"diffs":[[0,"   end\r\n    "],[1,"   "],[1," "],[0,"end\r\n"],[-1,"\r\n"],[1,"        \r\n    "],[0,"    context "]],"start1":2174,"start2":2174,"length1":31,"length2":47},{"diffs":[[0,"ged in\" do\r\n"],[1,"      "],[0,"      setup "]],"start1":2230,"start2":2230,"length1":24,"length2":30},{"diffs":[[0,"tup do\r\n        "],[1,"  "],[1,"      "],[0,"sign_in users(:j"]],"start1":2256,"start2":2256,"length1":32,"length2":40},{"diffs":[[0,"son)\r\n      "],[-1,"end\r\n"],[1,"      end\r\n        end\r\n        "],[0,"\r\n      "],[1,"  "],[0,"context \"wit"]],"start1":2297,"start2":2297,"length1":37,"length2":66},{"diffs":[[0,"th no fr"],[-1,"i"],[0,"e"],[1,"i"],[0,"nd_id\" d"]],"start1":2362,"start2":2362,"length1":18,"length2":18},{"diffs":[[0,"id\" do\r\n        "],[1,"  "],[1,"  "],[0,"setup do\r\n      "]],"start1":2375,"start2":2375,"length1":32,"length2":36},{"diffs":[[0,"p do\r\n          "],[1,"   "],[1,"   "],[0,"post :create\r\n  "]],"start1":2399,"start2":2399,"length1":32,"length2":38},{"diffs":[[0,"te\r\n        "],[1,"    "],[0,"end\r\n"],[-1,"\r\n"],[1,"  "],[0,"        "],[1,"  "],[0,"should \"set "]],"start1":2431,"start2":2431,"length1":39,"length2":45},{"diffs":[[0,"\r\n          "],[1,"      "],[0,"assert !flas"]],"start1":2503,"start2":2503,"length1":24,"length2":30},{"diffs":[[0,"empty?\r\n        "],[1,"   "],[1," "],[0,"end\r\n"],[-1,"\r\n"],[1,"    "],[0,"        should \""]],"start1":2543,"start2":2543,"length1":39,"length2":45},{"diffs":[[0,"should \""],[-1,"set "],[0,"redirect"]],"start1":2580,"start2":2580,"length1":20,"length2":16},{"diffs":[[0,"rect to "],[1,"the site "],[0,"root\" do"]],"start1":2592,"start2":2592,"length1":16,"length2":25},{"diffs":[[0,"\" do\r\n          "],[1," "],[1,"     "],[0,"assert_redirecte"]],"start1":2613,"start2":2613,"length1":32,"length2":38},{"diffs":[[0,"t_path\r\n        "],[1,"    "],[0,"end\r\n"],[1,"  "],[0,"      end\r\n\r\n   "]],"start1":2659,"start2":2659,"length1":37,"length2":43},{"diffs":[[0,"       end\r\n"],[-1,"\r\n"],[1,"  "],[0,"      contex"]],"start1":2685,"start2":2685,"length1":26,"length2":26},{"diffs":[[0,"id\" do\r\n        "],[1,"    "],[0,"setup do\r\n      "]],"start1":2734,"start2":2734,"length1":32,"length2":36},{"diffs":[[0,"p do\r\n          "],[1,"   "],[1,"   "],[0,"post :create, fr"]],"start1":2758,"start2":2758,"length1":32,"length2":38},{"diffs":[[0,"ike)"],[-1,".id"],[0,"\r\n  "]],"start1":2813,"start2":2813,"length1":11,"length2":8},{"diffs":[[0,"    "],[-1,"end\r\n\r\n        should \"assign a friend object\" do\r\n          assert_equal users(:mike), assigns(:friend)\r\n        end\r\n\r\n"],[1,"    end\r\n            \r\n      "],[0,"      "],[-1,"  "],[0,"shou"]],"start1":2823,"start2":2823,"length1":137,"length2":43},{"diffs":[[0,"ssign a "],[-1,"user_"],[0,"friend"],[-1,"ship"],[0," object\""]],"start1":2871,"start2":2871,"length1":31,"length2":22},{"diffs":[[0,"\r\n          "],[1,"      "],[0,"assert assig"]],"start1":2896,"start2":2896,"length1":24,"length2":30},{"diffs":[[0,"ssigns(:"],[-1,"user_"],[0,"friend"],[-1,"ship"],[0,")\r\n     "]],"start1":2922,"start2":2922,"length1":31,"length2":22},{"diffs":[[0,"    "],[-1,"assert_equal users(:jason), assigns(:user_friendship).user\r\n          assert_equal users(:mike), assigns(:user_friendship).friend\r\n        end\r\n\r\n"],[1,"  end\r\n            \r\n    "],[0,"    "]],"start1":2945,"start2":2945,"length1":154,"length2":33},{"diffs":[[0,"ld \""],[-1,"create"],[1,"assign"],[0," a user"],[-1," "],[1,"_"],[0,"frie"]],"start1":2986,"start2":2986,"length1":22,"length2":22},{"diffs":[[0,"iendship"],[1," object"],[0,"\" do\r\n"],[1,"     "],[0,"        "]],"start1":3006,"start2":3006,"length1":22,"length2":34},{"diffs":[[0,"ert "],[-1,"users(:jason).friends.include?(users(:mike))\r\n"],[1,"assigns(:user_friendship) \r\n    "],[0,"    "]],"start1":3045,"start2":3045,"length1":54,"length2":40},{"diffs":[[0,"    "],[1," "],[1," "],[0,"end\r\n"],[-1,"\r\n\r\n"],[0,"    "]],"start1":3096,"start2":3096,"length1":17,"length2":15},{"diffs":[[0,"nd\r\n"],[-1,"  "],[0,"end\r\n"],[-1,"end"],[0,"\r\n"]],"start1":3112,"start2":3112,"length1":16,"length2":11}]],"length":3123,"saved":false}
{"ts":1366752362637,"patch":[[{"diffs":[[0,"stCase\r\n"],[-1,"  "],[0,"  contex"]],"start1":83,"start2":83,"length1":18,"length2":16},{"diffs":[[0," \"#new\" do\r\n"],[-1,"    "],[0,"    context "]],"start1":100,"start2":100,"length1":28,"length2":24},{"diffs":[[0,"d in\" do\r\n      "],[-1,"     "],[-1," "],[0,"should \"redirect"]],"start1":139,"start2":139,"length1":38,"length2":32},{"diffs":[[0,"n page\" do\r\n"],[-1,"        "],[0,"        get "]],"start1":183,"start2":183,"length1":32,"length2":24},{"diffs":[[0,"ew\r\n        "],[-1,"  "],[-1,"      "],[0,"assert_respo"]],"start1":209,"start2":209,"length1":32,"length2":24},{"diffs":[[0,"ct\r\n        "],[-1,"    end\r\n  "],[1,"assert_redirected_to login_path\r\n"],[0,"      end\r\n "]],"start1":244,"start2":244,"length1":35,"length2":57},{"diffs":[[0,"   end\r\n    "],[-1,"  "],[-1,"  \r\n    "],[1,"end\r\n\r\n"],[0,"    context "]],"start1":292,"start2":292,"length1":34,"length2":31},{"diffs":[[0," logged in\" do\r\n"],[-1,"      "],[0,"      setup do\r\n"]],"start1":328,"start2":328,"length1":38,"length2":32},{"diffs":[[0,"do\r\n        "],[-1,"     "],[-1,"   "],[0,"sign_in user"]],"start1":356,"start2":356,"length1":32,"length2":24},{"diffs":[[0,"    "],[-1,"      end\r\n            "],[1,"end\r\n"],[0,"\r\n      "],[-1," "],[-1,"     "],[0,"shou"]],"start1":393,"start2":393,"length1":45,"length2":21},{"diffs":[[0,"new "],[-1,"and return success"],[1,"without error"],[0,"\" do"]],"start1":422,"start2":422,"length1":26,"length2":21},{"diffs":[[0,"do\r\n        "],[-1,"     "],[-1,"   "],[0,"get :new\r\n  "]],"start1":441,"start2":441,"length1":32,"length2":24},{"diffs":[[0,"  get :new\r\n"],[-1,"        "],[0,"        asse"]],"start1":451,"start2":451,"length1":32,"length2":24},{"diffs":[[0,"    "],[-1,"      end\r\n            \r\n            "],[1,"end\r\n\r\n      should \""],[0,"should "],[-1,"\""],[0,"set "]],"start1":499,"start2":499,"length1":53,"length2":36},{"diffs":[[0,"id param"],[-1,"s"],[0," is miss"]],"start1":563,"start2":563,"length1":17,"length2":16},{"diffs":[[0,"issing\" do\r\n"],[-1,"        "],[0,"        get "]],"start1":576,"start2":576,"length1":32,"length2":24},{"diffs":[[0,"{}\r\n        "],[-1,"   "],[-1,"     "],[0,"assert_equal"]],"start1":606,"start2":606,"length1":32,"length2":24},{"diffs":[[0,"    "],[-1,"      end\r\n            "],[1,"end\r\n\r\n      should \"display a 404 page if no friend is found\" do\r\n        get :new, friend_id: 'invalid'\r\n        assert_response :not_found"],[0,"\r\n      "],[1,"end\r\n\r\n"],[0,"    "]],"start1":667,"start2":667,"length1":39,"length2":164},{"diffs":[[0,"do\r\n        "],[-1," "],[-1,"       "],[0,"get :new, fr"]],"start1":868,"start2":868,"length1":32,"length2":24},{"diffs":[[0," users(:jim)"],[-1,"\r\n        "],[1,".id\r\n"],[0,"        asse"]],"start1":900,"start2":900,"length1":34,"length2":29},{"diffs":[[0,"    "],[-1,"   "],[-1,"   "],[0,"end\r\n"],[-1,"            \r\n      "],[1,"\r\n"],[0,"    "]],"start1":983,"start2":983,"length1":39,"length2":15},{"diffs":[[0,"hould \"assign a "],[-1,"new "],[0,"user friendship "]],"start1":1001,"start2":1001,"length1":36,"length2":32},{"diffs":[[0,"ship"],[-1," to the correct friend\" do\r\n        "],[1,"\" do\r\n"],[0,"    "]],"start1":1028,"start2":1028,"length1":44,"length2":14},{"diffs":[[0," users(:jim)"],[-1,"\r\n        "],[1,".id\r\n"],[0,"        asse"]],"start1":1066,"start2":1066,"length1":34,"length2":29},{"diffs":[[0,"sert"],[-1,"_equal users(:jim),"],[0," ass"]],"start1":1093,"start2":1093,"length1":27,"length2":8},{"diffs":[[0,"hip)"],[-1,".friend\r\n            end\r\n            "],[0,"\r\n      "],[1,"end\r\n\r\n"],[0,"    "]],"start1":1119,"start2":1119,"length1":54,"length2":23},{"diffs":[[0,"ssign a "],[-1,"new "],[0,"user fri"]],"start1":1153,"start2":1153,"length1":20,"length2":16},{"diffs":[[0,"hip "],[-1,"to"],[1,"with"],[0," the "],[-1,"currently logged in"],[1,"user as current"],[0," use"]],"start1":1173,"start2":1173,"length1":34,"length2":32},{"diffs":[[0,"t user\" do\r\n"],[-1,"        "],[0,"        get "]],"start1":1200,"start2":1200,"length1":32,"length2":24},{"diffs":[[0," users(:jim)"],[-1,"\r\n        "],[1,".id\r\n"],[0,"        asse"]],"start1":1240,"start2":1240,"length1":34,"length2":29},{"diffs":[[0,"qual"],[-1," users(:jason),"],[0," ass"]],"start1":1273,"start2":1273,"length1":23,"length2":8},{"diffs":[[0,"user"],[-1,"\r\n   "],[1,", users(:jason)\r\n"],[0,"      "],[-1,"   "],[0,"end\r\n"],[-1,"            \r\n            should \"return a 404 if no friend was found\" do \r\n                get :new, friend_id: 'invalid'\r\n                assert_response :not_found\r\n            end\r\n            \r\n            #should \"ask if you really want to friend the user"],[1,"\r\n      should \"assign a user friendship with the correct friend"],[0,"\" do"],[-1," "],[0,"\r\n     "],[-1,"        #"],[0,"   g"]],"start1":1304,"start2":1304,"length1":309,"length2":111},{"diffs":[[0,":new, fr"],[-1,"e"],[0,"i"],[1,"e"],[0,"nd_id: u"]],"start1":1418,"start2":1418,"length1":18,"length2":18},{"diffs":[[0,"rs(:jim)"],[1,".id"],[0,"\r\n      "]],"start1":1438,"start2":1438,"length1":16,"length2":19},{"diffs":[[0,"    "],[-1,"      #  assert_match /Do you really want to "],[1,"assert_equal assigns(:user_friendship)."],[0,"friend"],[1,","],[0," "],[-1,"#{"],[0,"user"]],"start1":1455,"start2":1455,"length1":62,"length2":55},{"diffs":[[0,"jim)"],[-1,".full_name}?/, response.body\r\n     "],[1,"\r\n"],[0,"      "],[-1," #"],[0,"end\r\n"],[-1,"\r\n  "],[0,"    "],[-1,"  "],[0,"end\r\n"],[-1,"  "],[0,"  en"]],"start1":1513,"start2":1513,"length1":73,"length2":30},{"diffs":[[0,"d\r\n  end\r\n  "],[1,"\r\n"],[0,"  context \"#"]],"start1":1536,"start2":1536,"length1":24,"length2":26},{"diffs":[[0,"create\" do\r\n"],[-1,"    "],[0,"    context "]],"start1":1562,"start2":1562,"length1":28,"length2":24},{"diffs":[[0,"ged in\" do\r\n"],[-1,"      "],[0,"      should"]],"start1":1599,"start2":1599,"length1":30,"length2":24},{"diffs":[[0,"n page\" do\r\n"],[-1,"        "],[0,"        get "]],"start1":1645,"start2":1645,"length1":32,"length2":24},{"diffs":[[0,"ew\r\n        "],[-1,"   "],[-1,"     "],[0,"assert_respo"]],"start1":1671,"start2":1671,"length1":32,"length2":24},{"diffs":[[0,"ct\r\n        "],[-1,"      "],[-1,"  "],[0,"assert_redir"]],"start1":1706,"start2":1706,"length1":32,"length2":24},{"diffs":[[0,"login_path\r\n"],[-1,"      "],[0,"      end\r\n "]],"start1":1739,"start2":1739,"length1":30,"length2":24},{"diffs":[[0,"nd\r\n    "],[-1,"   "],[-1," "],[0,"end\r\n"],[-1,"        \r\n    "],[1,"\r\n"],[0,"    cont"]],"start1":1758,"start2":1758,"length1":39,"length2":23},{"diffs":[[0,"ged in\" do\r\n"],[-1,"      "],[0,"      setup "]],"start1":1794,"start2":1794,"length1":30,"length2":24},{"diffs":[[0,"        "],[-1,"  "],[-1,"      "],[0,"sign_in "]],"start1":1822,"start2":1822,"length1":24,"length2":16},{"diffs":[[0,"    "],[-1,"      end\r\n        end\r\n        "],[1,"end\r\n"],[0,"\r\n      "],[-1,"  "],[0,"cont"]],"start1":1855,"start2":1855,"length1":50,"length2":21},{"diffs":[[0,"o fr"],[-1,"e"],[0,"i"],[1,"e"],[0,"nd_i"]],"start1":1887,"start2":1887,"length1":10,"length2":10},{"diffs":[[0,"id\" do\r\n        "],[-1,"  "],[-1,"  "],[0,"setup do\r\n      "]],"start1":1896,"start2":1896,"length1":36,"length2":32},{"diffs":[[0,"p do\r\n          "],[-1,"   "],[-1,"   "],[0,"post :create\r\n  "]],"start1":1916,"start2":1916,"length1":38,"length2":32},{"diffs":[[0,"te\r\n        "],[-1,"    "],[0,"end\r\n"],[-1,"    "],[1,"\r\n"],[0,"        shou"]],"start1":1942,"start2":1942,"length1":37,"length2":31},{"diffs":[[0,"\r\n          "],[-1,"      "],[0,"assert !flas"]],"start1":2008,"start2":2008,"length1":30,"length2":24},{"diffs":[[0,"y?\r\n        "],[-1,"   "],[-1," "],[0,"end\r\n"],[-1,"    "],[1,"\r\n"],[0,"        shou"]],"start1":2046,"start2":2046,"length1":37,"length2":31},{"diffs":[[0,"        should \""],[1,"set "],[0,"redirect to the "]],"start1":2065,"start2":2065,"length1":32,"length2":36},{"diffs":[[0," to "],[-1,"the site "],[0,"root"]],"start1":2093,"start2":2093,"length1":17,"length2":8},{"diffs":[[0,"\r\n          "],[-1," "],[-1,"     "],[0,"assert_redir"]],"start1":2105,"start2":2105,"length1":30,"length2":24},{"diffs":[[0,"th\r\n        "],[-1,"    "],[0,"end\r\n"],[-1,"  "],[0,"      end\r\n "]],"start1":2145,"start2":2145,"length1":35,"length2":29},{"diffs":[[0,"\n      end\r\n"],[-1,"  "],[1,"\r\n"],[0,"      contex"]],"start1":2161,"start2":2161,"length1":26,"length2":26},{"diffs":[[0,"do\r\n        "],[-1,"    "],[0,"setup do\r\n  "]],"start1":2214,"start2":2214,"length1":28,"length2":24},{"diffs":[[0,"\r\n          "],[-1,"   "],[-1,"   "],[0,"post :create"]],"start1":2234,"start2":2234,"length1":30,"length2":24},{"diffs":[[0,"s(:mike)"],[1,".id"],[0,"\r\n      "]],"start1":2275,"start2":2275,"length1":16,"length2":19},{"diffs":[[0,"    "],[-1,"    end\r\n            \r\n      "],[1,"end\r\n\r\n        should \"assign a friend object\" do\r\n          assert_equal users(:mike), assigns(:friend)\r\n        end\r\n\r\n"],[0,"      "],[1,"  "],[0,"shou"]],"start1":2292,"start2":2292,"length1":43,"length2":137},{"diffs":[[0,"hould \"assign a "],[1,"user_"],[0,"friend"],[1,"ship"],[0," object\" do\r\n   "]],"start1":2426,"start2":2426,"length1":38,"length2":47},{"diffs":[[0,"\" do\r\n          "],[-1,"      "],[0,"assert assigns(:"]],"start1":2464,"start2":2464,"length1":38,"length2":32},{"diffs":[[0,"assert assigns(:"],[1,"user_"],[0,"friend"],[1,"ship"],[0,")\r\n            e"]],"start1":2480,"start2":2480,"length1":38,"length2":47},{"diffs":[[0,"    "],[-1,"  end\r\n            \r\n    "],[1,"assert_equal users(:jason), assigns(:user_friendship).user\r\n          assert_equal users(:mike), assigns(:user_friendship).friend\r\n        end\r\n\r\n"],[0,"    "]],"start1":2520,"start2":2520,"length1":33,"length2":154},{"diffs":[[0,"    should \""],[-1,"assign"],[1,"create"],[0," a user"],[-1,"_"],[1," "],[0,"friendship o"]],"start1":2674,"start2":2674,"length1":38,"length2":38},{"diffs":[[0,"iendship"],[-1," object"],[0,"\" do\r\n"],[-1,"     "],[0,"        "]],"start1":2702,"start2":2702,"length1":34,"length2":22},{"diffs":[[0,"ert "],[-1,"assigns(:user_friendship) \r\n    "],[1,"users(:jason).friends.include?(users(:mike))\r\n"],[0,"    "]],"start1":2729,"start2":2729,"length1":40,"length2":54},{"diffs":[[0," end\r\n      "],[-1," "],[-1," "],[0,"end\r\n"],[1,"\r\n\r\n"],[0,"    end\r\nend"]],"start1":2786,"start2":2786,"length1":31,"length2":33},{"diffs":[[0,"   end\r\n"],[1,"  "],[0,"end\r\n"],[1,"end"],[0,"\r\n"]],"start1":2808,"start2":2808,"length1":15,"length2":20}]],"length":2828,"saved":false}
{"ts":1366752424403,"patch":[[{"diffs":[[0,"stCase\r\n"],[1,"  "],[0,"  contex"]],"start1":83,"start2":83,"length1":16,"length2":18},{"diffs":[[0," \"#new\" do\r\n"],[1,"    "],[0,"    context "]],"start1":102,"start2":102,"length1":24,"length2":28},{"diffs":[[0,"d in\" do\r\n      "],[1,"     "],[1," "],[0,"should \"redirect"]],"start1":145,"start2":145,"length1":32,"length2":38},{"diffs":[[0,"login page\" do\r\n"],[1,"        "],[0,"        get :new"]],"start1":191,"start2":191,"length1":32,"length2":40},{"diffs":[[0,"t :new\r\n        "],[1,"  "],[1,"      "],[0,"assert_response "]],"start1":225,"start2":225,"length1":32,"length2":40},{"diffs":[[0,"    "],[-1,"assert_redirected_to login_path\r\n"],[1,"    end\r\n  "],[0,"    "]],"start1":280,"start2":280,"length1":41,"length2":19},{"diffs":[[0,"       end\r\n    "],[-1,"end\r\n\r\n"],[1,"    \r\n    "],[0,"    context \"whe"]],"start1":294,"start2":294,"length1":39,"length2":42},{"diffs":[[0," logged in\" do\r\n"],[1,"      "],[0,"      setup do\r\n"]],"start1":337,"start2":337,"length1":32,"length2":38},{"diffs":[[0,"tup do\r\n        "],[1,"     "],[1,"   "],[0,"sign_in users(:j"]],"start1":367,"start2":367,"length1":32,"length2":40},{"diffs":[[0,"son)\r\n      "],[-1,"end\r\n"],[1,"      end\r\n            "],[0,"\r\n      "],[1," "],[1,"     "],[0,"should \"get "]],"start1":408,"start2":408,"length1":37,"length2":61},{"diffs":[[0,"new "],[-1,"without error"],[1,"and return success"],[0,"\" do"]],"start1":469,"start2":469,"length1":21,"length2":26},{"diffs":[[0,"ss\" do\r\n        "],[1,"     "],[1,"   "],[0,"get :new\r\n      "]],"start1":489,"start2":489,"length1":32,"length2":40},{"diffs":[[0,"      get :new\r\n"],[1,"        "],[0,"        assert_r"]],"start1":507,"start2":507,"length1":32,"length2":40},{"diffs":[[0,"    "],[-1,"end\r\n\r\n"],[1,"      end\r\n            \r\n   "],[0,"      "],[1,"   "],[0,"should \""],[-1,"should "],[0,"set "]],"start1":567,"start2":567,"length1":36,"length2":53},{"diffs":[[0,"id param"],[1,"s"],[0," is miss"]],"start1":648,"start2":648,"length1":16,"length2":17},{"diffs":[[0,"issing\" do\r\n"],[1,"        "],[0,"        get "]],"start1":662,"start2":662,"length1":24,"length2":32},{"diffs":[[0,"ew, {}\r\n        "],[1,"   "],[1,"     "],[0,"assert_equal \"Fr"]],"start1":696,"start2":696,"length1":32,"length2":40},{"diffs":[[0,"    "],[-1,"end\r\n\r\n      should \"display a 404 page if no friend is found\" do\r\n        get :new, friend_id: 'invalid'\r\n        assert_response :not_found"],[1,"      end\r\n            "],[0,"\r\n      "],[-1,"end\r\n\r\n"],[0,"    "]],"start1":769,"start2":769,"length1":164,"length2":39},{"diffs":[[0,"me\" do\r\n        "],[1," "],[1,"       "],[0,"get :new, friend"]],"start1":841,"start2":841,"length1":32,"length2":40},{"diffs":[[0,"_id: users(:jim)"],[-1,".id\r\n"],[1,"\r\n        "],[0,"        assert_m"]],"start1":881,"start2":881,"length1":37,"length2":42},{"diffs":[[0,"nse.body\r\n      "],[1,"   "],[1,"   "],[0,"end\r\n"],[-1,"\r\n"],[1,"            \r\n      "],[0,"      should \"as"]],"start1":961,"start2":961,"length1":39,"length2":63},{"diffs":[[0,"hould \"assign a "],[1,"new "],[0,"user friendship\""]],"start1":1015,"start2":1015,"length1":32,"length2":36},{"diffs":[[0," user friendship"],[-1,"\" do\r\n"],[1," to the correct friend\" do\r\n        "],[0,"        get :new"]],"start1":1034,"start2":1034,"length1":38,"length2":68},{"diffs":[[0,"_id: users(:jim)"],[-1,".id\r\n"],[1,"\r\n        "],[0,"        assert a"]],"start1":1110,"start2":1110,"length1":37,"length2":42},{"diffs":[[0,"          assert"],[1,"_equal users(:jim),"],[0," assigns(:user_f"]],"start1":1134,"start2":1134,"length1":32,"length2":51},{"diffs":[[0,"endship)"],[1,".friend\r\n            end\r\n            "],[0,"\r\n      "],[-1,"end\r\n\r\n"],[0,"      sh"]],"start1":1187,"start2":1187,"length1":31,"length2":62},{"diffs":[[0,"hould \"assign a "],[1,"new "],[0,"user friendship "]],"start1":1248,"start2":1248,"length1":32,"length2":36},{"diffs":[[0,"hip "],[-1,"with"],[1,"to"],[0," the "],[-1,"user as current"],[1,"currently logged in"],[0," use"]],"start1":1280,"start2":1280,"length1":32,"length2":34},{"diffs":[[0,"n user\" do\r\n"],[1,"        "],[0,"        get "]],"start1":1309,"start2":1309,"length1":24,"length2":32},{"diffs":[[0,"_id: users(:jim)"],[-1,".id\r\n"],[1,"\r\n        "],[0,"        assert_e"]],"start1":1353,"start2":1353,"length1":37,"length2":42},{"diffs":[[0,"    assert_equal"],[1," users(:jason),"],[0," assigns(:user_f"]],"start1":1383,"start2":1383,"length1":32,"length2":47},{"diffs":[[0,"user"],[-1,", users(:jason)\r\n"],[1,"\r\n   "],[0,"      "],[1,"   "],[0,"end\r\n"],[-1,"\r\n      should \"assign a user friendship with the correct friend"],[1,"            \r\n            should \"return a 404 if no friend was found\" do \r\n                get :new, friend_id: 'invalid'\r\n                assert_response :not_found\r\n            end\r\n            \r\n            #should \"ask if you really want to friend the user"],[0,"\" do"],[1," "],[0,"\r\n     "],[1,"        #"],[0,"   g"]],"start1":1441,"start2":1441,"length1":111,"length2":309},{"diffs":[[0,"#   get :new, fr"],[-1,"i"],[0,"e"],[1,"i"],[0,"nd_id: users(:ji"]],"start1":1745,"start2":1745,"length1":34,"length2":34},{"diffs":[[0,"rs(:jim)"],[-1,".id"],[0,"\r\n      "]],"start1":1773,"start2":1773,"length1":19,"length2":16},{"diffs":[[0,"    "],[-1,"assert_equal assigns(:user_friendship).friend, users(:jim)\r\n"],[1,"      #  assert_match /Do you really want to friend #{users(:jim).full_name}?/, response.body\r\n     "],[0,"      "],[1," #"],[0,"end\r\n"],[1,"\r\n  "],[0,"    "],[1,"  "],[0,"end\r\n"],[1,"  "],[0,"  en"]],"start1":1787,"start2":1787,"length1":88,"length2":138},{"diffs":[[0," end\r\n  "],[-1,"\r\n"],[0,"  contex"]],"start1":1922,"start2":1922,"length1":18,"length2":16},{"diffs":[[0,"create\" do\r\n"],[1,"    "],[0,"    context "]],"start1":1942,"start2":1942,"length1":24,"length2":28},{"diffs":[[0,"ged in\" do\r\n"],[1,"      "],[0,"      should"]],"start1":1983,"start2":1983,"length1":24,"length2":30},{"diffs":[[0,"login page\" do\r\n"],[1,"        "],[0,"        get :new"]],"start1":2031,"start2":2031,"length1":32,"length2":40},{"diffs":[[0,"t :new\r\n        "],[1,"   "],[1,"     "],[0,"assert_response "]],"start1":2065,"start2":2065,"length1":32,"length2":40},{"diffs":[[0,"direct\r\n        "],[1,"      "],[1,"  "],[0,"assert_redirecte"]],"start1":2108,"start2":2108,"length1":32,"length2":40},{"diffs":[[0,"login_path\r\n"],[1,"      "],[0,"      end\r\n "]],"start1":2153,"start2":2153,"length1":24,"length2":30},{"diffs":[[0,"   end\r\n    "],[1,"   "],[1," "],[0,"end\r\n"],[-1,"\r\n"],[1,"        \r\n    "],[0,"    context "]],"start1":2174,"start2":2174,"length1":31,"length2":47},{"diffs":[[0,"ged in\" do\r\n"],[1,"      "],[0,"      setup "]],"start1":2230,"start2":2230,"length1":24,"length2":30},{"diffs":[[0,"tup do\r\n        "],[1,"  "],[1,"      "],[0,"sign_in users(:j"]],"start1":2256,"start2":2256,"length1":32,"length2":40},{"diffs":[[0,"son)\r\n      "],[-1,"end\r\n"],[1,"      end\r\n        end\r\n        "],[0,"\r\n      "],[1,"  "],[0,"context \"wit"]],"start1":2297,"start2":2297,"length1":37,"length2":66},{"diffs":[[0,"th no fr"],[-1,"i"],[0,"e"],[1,"i"],[0,"nd_id\" d"]],"start1":2362,"start2":2362,"length1":18,"length2":18},{"diffs":[[0,"id\" do\r\n        "],[1,"  "],[1,"  "],[0,"setup do\r\n      "]],"start1":2375,"start2":2375,"length1":32,"length2":36},{"diffs":[[0,"p do\r\n          "],[1,"   "],[1,"   "],[0,"post :create\r\n  "]],"start1":2399,"start2":2399,"length1":32,"length2":38},{"diffs":[[0,"te\r\n        "],[1,"    "],[0,"end\r\n"],[-1,"\r\n"],[1,"  "],[0,"        "],[1,"  "],[0,"should \"set "]],"start1":2431,"start2":2431,"length1":39,"length2":45},{"diffs":[[0,"\r\n          "],[1,"      "],[0,"assert !flas"]],"start1":2503,"start2":2503,"length1":24,"length2":30},{"diffs":[[0,"empty?\r\n        "],[1,"   "],[1," "],[0,"end\r\n"],[-1,"\r\n"],[1,"    "],[0,"        should \""]],"start1":2543,"start2":2543,"length1":39,"length2":45},{"diffs":[[0,"should \""],[-1,"set "],[0,"redirect"]],"start1":2580,"start2":2580,"length1":20,"length2":16},{"diffs":[[0,"rect to "],[1,"the site "],[0,"root\" do"]],"start1":2592,"start2":2592,"length1":16,"length2":25},{"diffs":[[0,"\" do\r\n          "],[1," "],[1,"     "],[0,"assert_redirecte"]],"start1":2613,"start2":2613,"length1":32,"length2":38},{"diffs":[[0,"t_path\r\n        "],[1,"    "],[0,"end\r\n"],[1,"  "],[0,"      end\r\n\r\n   "]],"start1":2659,"start2":2659,"length1":37,"length2":43},{"diffs":[[0,"       end\r\n"],[-1,"\r\n"],[1,"  "],[0,"      contex"]],"start1":2685,"start2":2685,"length1":26,"length2":26},{"diffs":[[0,"id\" do\r\n        "],[1,"    "],[0,"setup do\r\n      "]],"start1":2734,"start2":2734,"length1":32,"length2":36},{"diffs":[[0,"p do\r\n          "],[1,"   "],[1,"   "],[0,"post :create, fr"]],"start1":2758,"start2":2758,"length1":32,"length2":38},{"diffs":[[0,"ike)"],[-1,".id"],[0,"\r\n  "]],"start1":2813,"start2":2813,"length1":11,"length2":8},{"diffs":[[0,"    "],[-1,"end\r\n\r\n        should \"assign a friend object\" do\r\n          assert_equal users(:mike), assigns(:friend)\r\n        end\r\n\r\n"],[1,"    end\r\n            \r\n      "],[0,"      "],[-1,"  "],[0,"shou"]],"start1":2823,"start2":2823,"length1":137,"length2":43},{"diffs":[[0,"ssign a "],[-1,"user_"],[0,"friend"],[-1,"ship"],[0," object\""]],"start1":2871,"start2":2871,"length1":31,"length2":22},{"diffs":[[0,"\r\n          "],[1,"      "],[0,"assert assig"]],"start1":2896,"start2":2896,"length1":24,"length2":30},{"diffs":[[0,"ssigns(:"],[-1,"user_"],[0,"friend"],[-1,"ship"],[0,")\r\n     "]],"start1":2922,"start2":2922,"length1":31,"length2":22},{"diffs":[[0,"    "],[-1,"assert_equal users(:jason), assigns(:user_friendship).user\r\n          assert_equal users(:mike), assigns(:user_friendship).friend\r\n        end\r\n\r\n"],[1,"  end\r\n            \r\n    "],[0,"    "]],"start1":2945,"start2":2945,"length1":154,"length2":33},{"diffs":[[0,"ld \""],[-1,"create"],[1,"assign"],[0," a user"],[-1," "],[1,"_"],[0,"frie"]],"start1":2986,"start2":2986,"length1":22,"length2":22},{"diffs":[[0,"iendship"],[1," object"],[0,"\" do\r\n"],[1,"     "],[0,"        "]],"start1":3006,"start2":3006,"length1":22,"length2":34},{"diffs":[[0,"ert "],[-1,"users(:jason).friends.include?(users(:mike))\r\n"],[1,"assigns(:user_friendship) \r\n    "],[0,"    "]],"start1":3045,"start2":3045,"length1":54,"length2":40},{"diffs":[[0,"    "],[1," "],[1," "],[0,"end\r\n"],[-1,"\r\n\r\n"],[0,"    "]],"start1":3096,"start2":3096,"length1":17,"length2":15},{"diffs":[[0,"nd\r\n"],[-1,"  "],[0,"end\r\n"],[-1,"end"],[0,"\r\n"]],"start1":3112,"start2":3112,"length1":16,"length2":11}]],"length":3123,"saved":false}
{"ts":1366753087173,"patch":[[{"diffs":[[0,"iendship"],[1,"s"],[0,") \r\n    "]],"start1":3065,"start2":3065,"length1":16,"length2":17}]],"length":3124,"saved":false}
{"ts":1366753153389,"patch":[[{"diffs":[[0,"iendship"],[-1,"s"],[0,") \r\n    "]],"start1":3065,"start2":3065,"length1":17,"length2":16}]],"length":3123,"saved":false}
{"ts":1366753523482,"patch":[[{"diffs":[[0,"riend)\r\n"],[1,"                assert_equal users(:mike), assigns(:friend)\r\n"],[0,"        "]],"start1":2931,"start2":2931,"length1":16,"length2":77},{"diffs":[[0,"           end\r\n"],[-1,""],[0,"            \r\n  "]],"start1":3001,"start2":3001,"length1":32,"length2":32},{"diffs":[[0,"endship)"],[-1," "],[1,"\r\n               assert_equal users(:jason), assigns(:user_friendship).user\r\n               assert_equal users(:mike), assigns(:user_friendship).friend"],[0,"\r\n      "]],"start1":3127,"start2":3127,"length1":17,"length2":167}]],"length":3334,"saved":false}
{"ts":1366754108236,"patch":[[{"diffs":[[0,"s(:mike)"],[1,".profile_name"],[0,"\r\n      "]],"start1":2809,"start2":2809,"length1":16,"length2":29}]],"length":3347,"saved":false}
{"ts":1366754263147,"patch":[[{"diffs":[[0,"ke)."],[-1,"profile_name"],[1,"id"],[0,"\r\n  "]],"start1":2814,"start2":2814,"length1":20,"length2":10}]],"length":3337,"saved":false}
{"ts":1366754345983,"patch":[[{"diffs":[[0,"      setup do\r\n"],[1,"                sign_in users(:jason)\r\n"],[0,"                "]],"start1":2748,"start2":2748,"length1":32,"length2":71}]],"length":3376,"saved":false}
{"ts":1366754389633,"patch":[[{"diffs":[[0,"do\r\n"],[-1,"                sign_in users(:jason)\r\n"],[0,"    "]],"start1":2760,"start2":2760,"length1":47,"length2":8}]],"length":3337,"saved":false}
{"ts":1366754464600,"patch":[[{"diffs":[[0,"            "],[-1,"  "],[0,"assert !flas"]],"start1":2507,"start2":2507,"length1":26,"length2":24},{"diffs":[[0,"           end\r\n"],[1,"    \r\n"],[0,"            shou"]],"start1":2550,"start2":2550,"length1":32,"length2":38},{"diffs":[[0,"        should \""],[1,"set "],[0,"redirect to the "]],"start1":2576,"start2":2576,"length1":32,"length2":36},{"diffs":[[0," to "],[-1,"the site "],[0,"root"]],"start1":2604,"start2":2604,"length1":17,"length2":8},{"diffs":[[0,"o root\" do\r\n"],[-1,"  "],[0,"            "]],"start1":2606,"start2":2606,"length1":26,"length2":24},{"diffs":[[0,"   end\r\n        "],[1,"  "],[0,"end\r\n        con"]],"start1":2673,"start2":2673,"length1":32,"length2":34},{"diffs":[[0,"   end\r\n    "],[1,"\r\n      "],[0,"    context "]],"start1":2688,"start2":2688,"length1":24,"length2":32},{"diffs":[[0,"      setup do\r\n"],[-1,"  "],[0,"              po"]],"start1":2755,"start2":2755,"length1":34,"length2":32},{"diffs":[[0,"   end\r\n    "],[-1,"        "],[0,""],[1,""],[0,"\r\n          "]],"start1":2836,"start2":2836,"length1":32,"length2":24},{"diffs":[[0,"    "],[-1,"  assert assigns(:friend)\r\n                "],[0,""],[1,""],[0,"asse"]],"start1":2908,"start2":2908,"length1":51,"length2":8},{"diffs":[[0,"   end\r\n    "],[-1,"        "],[0,""],[1,""],[0,"\r\n          "]],"start1":2966,"start2":2966,"length1":32,"length2":24},{"diffs":[[0,"            "],[-1," "],[0,"assert assig"]],"start1":3039,"start2":3039,"length1":25,"length2":24},{"diffs":[[0,"dship)\r\n"],[-1," "],[0,"        "]],"start1":3077,"start2":3077,"length1":17,"length2":16},{"diffs":[[0,"iendship).user\r\n"],[-1," "],[0,"              as"]],"start1":3143,"start2":3143,"length1":33,"length2":32}]],"length":3280,"saved":false}
{"ts":1366756100916,"patch":[[{"diffs":[[0,"           end\r\n"],[1,"            should \"create friendship\" do\r\n                assert users(:jason).friends.include?(users(:mike))\r\n            end\r\n"],[0,"        end\r\n   "]],"start1":3235,"start2":3235,"length1":32,"length2":161}]],"length":3409,"saved":false}
{"contributors":[],"silentsave":false,"ts":1366761776594,"patch":[[{"diffs":[[0,"_helper'"],[-1,"\r\n\r"],[1,"\n"],[0,"\nclass U"]],"start1":13,"start2":13,"length1":19,"length2":17},{"diffs":[[0,"TestCase"],[-1,"\r\n  "],[1,"\n"],[0,"  contex"]],"start1":79,"start2":79,"length1":20,"length2":17},{"diffs":[[0,"xt \"#new\" do"],[-1,"\r\n    "],[1,"\n"],[0,"    context "]],"start1":95,"start2":95,"length1":30,"length2":25},{"diffs":[[0,"ogged in\" do"],[-1,"\r\n      "],[1,"\n"],[0,"      should"]],"start1":131,"start2":131,"length1":32,"length2":25},{"diffs":[[0,"\" do"],[-1,"\r\n "],[1,"\n"],[0,"        "],[-1,"       "],[0,"get :new"],[-1,"\r\n        "],[1,"\n"],[0,"    "]],"start1":184,"start2":184,"length1":44,"length2":26},{"diffs":[[0,"rect"],[-1,"\r\n  "],[1,"\n"],[0,"        "],[-1,"  end\r\n        end\r\n        \r\n    "],[1,"assert_redirected_to login_path\n      end\n    end\n\n"],[0,"    "]],"start1":235,"start2":235,"length1":54,"length2":68},{"diffs":[[0,"ogged in\" do"],[-1,"\r\n      "],[1,"\n"],[0,"      setup "]],"start1":318,"start2":318,"length1":32,"length2":25},{"diffs":[[0,"    setup do"],[-1,"\r"],[0,"\n"],[-1,"        "],[0,"        sign"]],"start1":333,"start2":333,"length1":34,"length2":25},{"diffs":[[0,"son)"],[-1,"\r\n "],[1,"\n"],[0,"      "],[-1,"     end\r\n            \r\n            should \"get new and return success\" do\r\n        "],[1,"end\n\n      should \"get new without error\" do\n"],[0,"    "]],"start1":371,"start2":371,"length1":101,"length2":60},{"diffs":[[0,"    get :new"],[-1,"\r\n        "],[1,"\n"],[0,"        asse"]],"start1":431,"start2":431,"length1":34,"length2":25},{"diffs":[[0,"cess"],[-1,"\r\n    "],[1,"\n"],[0,"      "],[-1,"  "],[0,"end"],[-1,"\r\n            \r\n            "],[1,"\n\n      should \""],[0,"should "],[-1,"\""],[0,"set "]],"start1":472,"start2":472,"length1":61,"length2":41},{"diffs":[[0,"id param"],[-1,"s"],[0," is miss"]],"start1":541,"start2":541,"length1":17,"length2":16},{"diffs":[[0,"sing\" do"],[-1,"\r\n  "],[1,"\n"],[0,"        "],[-1,"      "],[0,"get :new"]],"start1":556,"start2":556,"length1":34,"length2":25},{"diffs":[[0,":new, {}"],[-1,"\r\n        "],[1,"\n"],[0,"        "]],"start1":577,"start2":577,"length1":26,"length2":17},{"diffs":[[0,"ror]"],[-1,"\r\n            end\r\n            \r"],[1,"\n      end\n\n      should \"display a 404 page if no friend is found\" do\n        get :new, friend_id: 'invalid'\n        assert_response :not_found"],[0,"\n      "],[1,"end\n\n"],[0,"    "]],"start1":635,"start2":635,"length1":47,"length2":164},{"diffs":[[0,"name\" do"],[-1,"\r\n   "],[1,"\n"],[0,"        "],[-1,"     "],[0,"get :new"]],"start1":830,"start2":830,"length1":34,"length2":25},{"diffs":[[0,"rs(:jim)"],[-1,"\r\n   "],[1,"\n"],[0,"        "],[-1,"     "],[0,"assert_m"]],"start1":871,"start2":871,"length1":34,"length2":25},{"diffs":[[0,"esponse.body"],[-1,"\r\n      "],[1,"\n"],[0,"      end\r\n "]],"start1":930,"start2":930,"length1":32,"length2":25},{"diffs":[[0," end"],[-1,"\r\n            \r\n   "],[1,"\n\n"],[0,"      "],[-1,"   "],[0,"shou"]],"start1":948,"start2":948,"length1":36,"length2":16},{"diffs":[[0,"hould \"assign a "],[-1,"new "],[0,"user friendship "]],"start1":961,"start2":961,"length1":36,"length2":32},{"diffs":[[0,"ship"],[-1," to the correct friend\" do\r\n        "],[1,"\" do\n"],[0,"    "]],"start1":988,"start2":988,"length1":44,"length2":13},{"diffs":[[0," users(:jim)"],[-1,"\r\n        "],[1,"\n"],[0,"        asse"]],"start1":1025,"start2":1025,"length1":34,"length2":25},{"diffs":[[0,"sert"],[-1,"_equal users(:jim),"],[0," ass"]],"start1":1048,"start2":1048,"length1":27,"length2":8},{"diffs":[[0,"hip)"],[-1,".friend\r\n            end\r\n            \r"],[0,"\n      "],[1,"end\n\n"],[0,"    "]],"start1":1074,"start2":1074,"length1":54,"length2":20},{"diffs":[[0,"ssign a "],[-1,"new "],[0,"user fri"]],"start1":1105,"start2":1105,"length1":20,"length2":16},{"diffs":[[0,"hip "],[-1,"to"],[1,"with"],[0," the "],[-1,"currently logged in user\" do\r\n        "],[1,"user as current user\" do\n"],[0,"    "]],"start1":1125,"start2":1125,"length1":53,"length2":42},{"diffs":[[0,"rs(:jim)"],[-1,"\r\n    "],[1,"\n"],[0,"        "],[-1,"    "],[0,"assert_e"]],"start1":1195,"start2":1195,"length1":34,"length2":25},{"diffs":[[0,"assert_equal"],[-1," users(:jason),"],[0," assigns(:us"]],"start1":1212,"start2":1212,"length1":39,"length2":24},{"diffs":[[0,"user"],[-1,"\r\n            end\r\n            \r\n  "],[1,", users(:jason)\n      end\n\n"],[0,"      "],[-1,"    "],[0,"should \""],[-1,"return a 404 if no friend was found\" do \r\n                get :new, friend_id: 'invalid'\r\n                assert_response :not_found\r\n            end\r\n            \r\n            #should \"ask if you really want to friend the user\" do \r\n     "],[1,"assign a user friendship with the correct friend\" do\n"],[0,"     "],[-1,"   #"],[0,"   g"]],"start1":1251,"start2":1251,"length1":309,"length2":107},{"diffs":[[0,":new, fr"],[-1,"e"],[0,"i"],[1,"e"],[0,"nd_id: u"]],"start1":1361,"start2":1361,"length1":18,"length2":18},{"diffs":[[0,"jim)"],[-1,"\r\n  "],[1,"\n"],[0,"        "],[-1,"    #  assert_match /Do you really want to "],[1,"assert_equal assigns(:user_friendship)."],[0,"friend"],[1,","],[0," "],[-1,"#{"],[0,"user"]],"start1":1385,"start2":1385,"length1":72,"length2":64},{"diffs":[[0,"jim)"],[-1,".full_name}?/, response.body\r\n            #end\r\n\r\n        end\r\n "],[1,"\n      end\n    end\n"],[0,"  "],[-1," "],[0,"end"],[-1,"\r"],[0,"\n  "],[1,"\n"],[0,"  co"]],"start1":1452,"start2":1452,"length1":82,"length2":36},{"diffs":[[0,"eate\" do"],[-1,"\r\n "],[1,"\n"],[0,"    "],[-1,"   "],[0,"context "]],"start1":1498,"start2":1498,"length1":26,"length2":21},{"diffs":[[0,"ogged in\" do"],[-1,"\r"],[0,"\n"],[-1,"      "],[0,"      should"]],"start1":1530,"start2":1530,"length1":32,"length2":25},{"diffs":[[0,"gin page\" do"],[-1,"\r\n        "],[1,"\n"],[0,"        get "]],"start1":1575,"start2":1575,"length1":34,"length2":25},{"diffs":[[0,"get :new"],[-1,"\r\n   "],[1,"\n"],[0,"        "],[-1,"     "],[0,"assert_r"]],"start1":1596,"start2":1596,"length1":34,"length2":25},{"diffs":[[0,"redirect"],[-1,"\r\n    "],[1,"\n"],[0,"        "],[-1,"    "],[0,"assert_r"]],"start1":1630,"start2":1630,"length1":34,"length2":25},{"diffs":[[0,"path"],[-1,"\r\n    "],[1,"\n"],[0,"      "],[-1,"  "],[0,"end"],[-1,"\r\n  "],[1,"\n"],[0,"    "],[-1,"  "],[0,"end"],[-1,"\r\n        \r\n  "],[1,"\n\n"],[0,"    "],[-1,"  "],[0,"cont"]],"start1":1674,"start2":1674,"length1":58,"length2":32},{"diffs":[[0,"ogged in\" do"],[-1,"\r\n      "],[1,"\n"],[0,"      setup "]],"start1":1717,"start2":1717,"length1":32,"length2":25},{"diffs":[[0,"    setup do"],[-1,"\r"],[0,"\n"],[-1,"        "],[0,"        sign"]],"start1":1732,"start2":1732,"length1":34,"length2":25},{"diffs":[[0,"son)"],[-1,"\r"],[0,"\n      "],[-1,"      end\r\n        end\r\n        \r\n  "],[1,"end\n\n"],[0,"    "]],"start1":1770,"start2":1770,"length1":52,"length2":20},{"diffs":[[0,"o fr"],[-1,"e"],[0,"i"],[1,"e"],[0,"nd_i"]],"start1":1807,"start2":1807,"length1":10,"length2":10},{"diffs":[[0,"no friend_id\" do"],[-1,"\r\n    "],[1,"\n"],[0,"        setup do"]],"start1":1806,"start2":1806,"length1":38,"length2":33},{"diffs":[[0,"    setup do"],[-1,"\r\n      "],[1,"\n"],[0,"          po"]],"start1":1827,"start2":1827,"length1":32,"length2":25},{"diffs":[[0," :create"],[-1,"\r\n  "],[1,"\n"],[0,"        "],[-1,"  "],[0,"end"],[-1,"\r\n    "],[1,"\n\n"],[0,"        "]],"start1":1854,"start2":1854,"length1":39,"length2":30},{"diffs":[[0," message\" do"],[-1,"\r"],[0,"\n           "]],"start1":1911,"start2":1911,"length1":25,"length2":24},{"diffs":[[0,"o\n          "],[-1,"    "],[0,"assert !flas"]],"start1":1922,"start2":1922,"length1":28,"length2":24},{"diffs":[[0,"].empty?"],[-1,"\r\n    "],[1,"\n"],[0,"        "]],"start1":1954,"start2":1954,"length1":22,"length2":17},{"diffs":[[0,"\n        end"],[-1,"\r\n    \r\n    "],[1,"\n\n"],[0,"        shou"]],"start1":1962,"start2":1962,"length1":36,"length2":26},{"diffs":[[0," to root\" do"],[-1,"\r\n    "],[1,"\n"],[0,"          as"]],"start1":2004,"start2":2004,"length1":30,"length2":25},{"diffs":[[0,"oot_path"],[-1,"\r\n    "],[1,"\n"],[0,"        "]],"start1":2049,"start2":2049,"length1":22,"length2":17},{"diffs":[[0,"\n        end"],[-1,"\r\n    "],[1,"\n"],[0,"      end\r\n "]],"start1":2057,"start2":2057,"length1":30,"length2":25},{"diffs":[[0,"nd\n      end"],[-1,"\r\n    \r\n    "],[1,"\n\n"],[0,"      contex"]],"start1":2067,"start2":2067,"length1":36,"length2":26},{"diffs":[[0,"\" do"],[-1,"\r\n   "],[1,"\n"],[0,"        "],[-1," "],[0,"setup do"],[-1,"\r\n    "],[1,"\n"],[0,"    "]],"start1":2118,"start2":2118,"length1":36,"length2":26},{"diffs":[[0,"ike)"],[-1,".id\r\n    "],[1,"\n"],[0,"    "]],"start1":2183,"start2":2183,"length1":17,"length2":9},{"diffs":[[0,"\n        end"],[-1,"\r\n    \r\n    "],[1,"\n\n"],[0,"        shou"]],"start1":2187,"start2":2187,"length1":36,"length2":26},{"diffs":[[0,"riend object\" do"],[-1,"\r\n   "],[1,"\n"],[0,"           asser"]],"start1":2227,"start2":2227,"length1":37,"length2":33},{"diffs":[[0,"t\" do\n          "],[-1," "],[0,"assert_equal use"]],"start1":2238,"start2":2238,"length1":33,"length2":32},{"diffs":[[0,":friend)"],[-1,"\r\n    "],[1,"\n"],[0,"        "]],"start1":2289,"start2":2289,"length1":22,"length2":17},{"diffs":[[0," end"],[-1,"\r\n    \r\n    "],[1,"\n\n"],[0,"    "]],"start1":2305,"start2":2305,"length1":20,"length2":10},{"diffs":[[0,"p object\" do"],[-1,"\r\n  "],[1,"\n"],[0,"            "]],"start1":2350,"start2":2350,"length1":28,"length2":25},{"diffs":[[0,"o\n          "],[-1,"  "],[0,"assert assig"]],"start1":2361,"start2":2361,"length1":26,"length2":24},{"diffs":[[0,"endship)"],[-1,"\r\n    "],[1,"\n"],[0,"        "]],"start1":2397,"start2":2397,"length1":22,"length2":17},{"diffs":[[0,"ip).user"],[-1,"\r\n  "],[1,"\n"],[0,"        "]],"start1":2466,"start2":2466,"length1":20,"length2":17},{"diffs":[[0,".user\n          "],[-1,"  "],[0,"assert_equal use"]],"start1":2469,"start2":2469,"length1":34,"length2":32},{"diffs":[[0,").friend"],[-1,"\r\n    "],[1,"\n"],[0,"        "]],"start1":2536,"start2":2536,"length1":22,"length2":17},{"diffs":[[0,"iend\n        end"],[-1,"\r"],[1,"\n"],[0,"\n            sho"]],"start1":2540,"start2":2540,"length1":33,"length2":33},{"diffs":[[0,"nd\n\n        "],[-1,"    "],[0,"should \"crea"]],"start1":2554,"start2":2554,"length1":28,"length2":24},{"diffs":[[0,"\"create "],[1,"a user "],[0,"friendsh"]],"start1":2573,"start2":2573,"length1":16,"length2":23},{"diffs":[[0,"ship\" do"],[-1,"\r\n      "],[1,"\n"],[0,"        "]],"start1":2594,"start2":2594,"length1":24,"length2":17},{"diffs":[[0,"(:mike))"],[-1,"\r"],[0,"\n       "]],"start1":2656,"start2":2656,"length1":17,"length2":16},{"diffs":[[0,"    "],[-1,"    "],[0,"end"],[-1,"\r"],[0,"\n      "],[-1,"  "],[0,"end"],[-1,"\r"],[1,"\n\n"],[0,"\n    end"],[-1,"\r\nend\r\n\r"],[1,"\n  end\nend"],[0,"\n"]],"start1":2669,"start2":2669,"length1":42,"length2":38}]],"length":2707,"saved":false}
